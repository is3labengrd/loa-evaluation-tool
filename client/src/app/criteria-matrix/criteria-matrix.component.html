<div>
  <nav aria-label="breadcrumb">
    <ol class="breadcrumb">
      <li class="breadcrumb-item"><a routerLink="/">Home</a></li>
      <li class="breadcrumb-item"><a routerLink="/main-analysis/">Main analysis functionalities</a></li>
      <li class="breadcrumb-item active">Cognitive criteria matrix</li>
    </ol>
  </nav>
<table id="table1" >
  <tr>
    <td>Main process:</td>
    <td style="border-right: 1px solid" class="shorten" data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.mainProcessName}}">
      {{selectedSubprocess?.mainProcessName}}
    </td>
    <td class="shorten" data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.level1?.name}}">
      Sub process level 1: {{selectedSubprocess?.level1?.name}}
    </td>
    <td class="shorten"  data-toggle="tooltip" data-placement="top" title="{{selectedSubprocess?.level2?.name}}">
      Sub process level 2: {{selectedSubprocess?.level2?.name}}
    </td>
  </tr>
  <tr>
    <td>Level of sub processes:</td>
    <td style="border-right: 1px solid" class="shorten">{{selectedSubprocess?.subLevels}}</td>
    <td class="shorten">Sub process level 3: {{selectedSubprocess?.level3?.name}}</td>
    <td></td>
  </tr>
</table>

<h1 class="text-center">Cognitive Criteria Matrix</h1>

<table id="table2"  class="table table-bordered text-center">
  <thead class="thead-light">
    <th>Criteria</th>
    <th colspan="4">Direction of increasing benefit of automation  <-----------------------------------------------------</th>
  </thead>
  <tbody>
    <tr>
      <td
        matTooltip='According to DIN EN ISO 10075-2:2000 the worker should be supported in tasks of high complexity. The reason for this is that a high task complexity can mean that the worker has to make too many decisions in a certain time. Accordingly, the cognitive LoA should increase with increasing task complexity.'
      > <strong>Task complexity</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.tcH"
        (click)="
          criteriaMatrixBody.tcH = 1;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        High
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcM"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 1;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcL"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 1;
          criteriaMatrixBody.tcN = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.tcN"
        (click)="
          criteriaMatrixBody.tcH = 0;
          criteriaMatrixBody.tcM = 0;
          criteriaMatrixBody.tcL = 0;
          criteriaMatrixBody.tcN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='It is assumed that an increased frequency and recency of activation of information promotes more stable memory traces and thus the ability to recall this information is stronger. Information activated with low frequency and recency is exposed to negative exponential decay. In a fully automated system, the information can be stored for long periods independent of its activation frequency and recency. Further, specific information parts can be recalled and reproduced exactly. Accordingly, the cognitive LoA should increase with decreasing regularity of exercise.'
      > <strong>Regularity of exercise</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.reN"
        (click)="
          criteriaMatrixBody.reN = 1;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        None
      </td>
      <td
        [class.on]="criteriaMatrixBody.reL"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 1;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.reM"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 1;
          criteriaMatrixBody.reH = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.reH"
        (click)="
          criteriaMatrixBody.reN = 0;
          criteriaMatrixBody.reL = 0;
          criteriaMatrixBody.reM = 0;
          criteriaMatrixBody.reH = 1;
          updateMatrix();
        "
      >
        High
      </td>
    </tr>
    <tr>
      <td
        matTooltip='There are three levels of human performance: the skill, rule and knowledge-based level. Tasks that are performed at the skill-based level are routine ones. They require little conscious attention. Based on past experiences, tasks at the rule-based level are performed. At this level, more attention is required. If tasks are new or challenging and established rules are not effective, hypotheses have to be explored and tested. High demands on the human´s information-processing resources are made at this knowledge-based level of performance. Many of the tasks people perform are actually a mixture of skill, rule and knowledge-based performance levels. Even if from an economic point of view the first presented level is the most favourable one, it bears the most risks due to the reduction in resources of attention. For example, suppose a task A that is performed infrequently and a task B that is performed routinely at the skill-based level. If the initial steps of task A are identical to the ones of task B, but task A requires an additional step, it is likely that this step is omitted during the execution of the task. The assembly activity for one product variant often differs only slightly from that of another. Assuming that there is a mixture of all three levels, then it is likely that a task will be executed incorrectly if it is frequently changed. To reduce this risk, the cognitive LoA should increase with increasing frequency of task change.'
      > <strong>Frequency of task change</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.fcH"
        (click)="
          criteriaMatrixBody.fcH = 1;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        High
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcM"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 1;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcL"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 1;
          criteriaMatrixBody.fcN = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.fcN"
        (click)="
          criteriaMatrixBody.fcH = 0;
          criteriaMatrixBody.fcM = 0;
          criteriaMatrixBody.fcL = 0;
          criteriaMatrixBody.fcN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='According to DIN EN ISO 10075-2:2000, in systems where multiple queries have to be answered, a clear strategy for answering should be provided. A multiple query in the assembly is generated by the fact that there are several products and their variants to be assembled. The larger the number of products and their variants, the more challenging the answering process becomes. In conclusion, the cognitive LoA should increase with an increasing number of products and product variants.'
      > <strong>Level of product variant</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.lvH"
        (click)="
          criteriaMatrixBody.lvH = 1;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        High
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvM"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 1;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvL"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 1;
          criteriaMatrixBody.lvN = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.lvN"
        (click)="
          criteriaMatrixBody.lvH = 0;
          criteriaMatrixBody.lvM = 0;
          criteriaMatrixBody.lvL = 0;
          criteriaMatrixBody.lvN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='When assembly tasks run automatically, the data is stored and can be displayed in real time. The direct processing of the data is necessary if subsequent steps are attached to it. In addition, a uniform collection of data increases their reusability. The following figure shows: With extensive data utilisation, a high level of automation is essential.'
      > <strong>Re-utilization of data</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.rdH"
        (click)="
          criteriaMatrixBody.rdH = 1;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        High
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdM"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 1;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdL"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 1;
          criteriaMatrixBody.rdN = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.rdN"
        (click)="
          criteriaMatrixBody.rdH = 0;
          criteriaMatrixBody.rdM = 0;
          criteriaMatrixBody.rdL = 0;
          criteriaMatrixBody.rdN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='In assembly today it is common to capture process data and to save them in cloud-based storages. With increasing amount of data to be collected, the cognitive demand on the worker to correctly read, remember, retrieve and enter the data increase. If a large amount of process data is required, the acquisition process should be automated to a higher level.'
      > <strong>Amount of process data</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.adL"
        (click)="
          criteriaMatrixBody.adL = 1;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        Large
      </td>
      <td
        [class.on]="criteriaMatrixBody.adA"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 1;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        Average
      </td>
      <td
        [class.on]="criteriaMatrixBody.adS"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 1;
          criteriaMatrixBody.adN = 0;
          updateMatrix();
        "
      >
        Small
      </td>
      <td
        [class.on]="criteriaMatrixBody.adN"
        (click)="
          criteriaMatrixBody.adL = 0;
          criteriaMatrixBody.adA = 0;
          criteriaMatrixBody.adS = 0;
          criteriaMatrixBody.adN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='Human beings tend to minimize cognitive effort as much as possible in information processing and decision making. For example, information that occurs earlier in time tends to be overweighted. Such tendencies are reinforced by large amounts of information that are brought into the human´s working memory. In order to prevent erroneous decisions or actions, the cognitive LoA should increase with an increasing amount of input sources.'
      > <strong>Amount of input source</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.asL"
        (click)="
          criteriaMatrixBody.asL = 1;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        Large
      </td>
      <td
        [class.on]="criteriaMatrixBody.asA"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 1;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        Average
      </td>
      <td
        [class.on]="criteriaMatrixBody.asS"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 1;
          criteriaMatrixBody.asN = 0;
          updateMatrix();
        "
      >
        Small
      </td>
      <td
        [class.on]="criteriaMatrixBody.asN"
        (click)="
          criteriaMatrixBody.asL = 0;
          criteriaMatrixBody.asA = 0;
          criteriaMatrixBody.asS = 0;
          criteriaMatrixBody.asN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td
        matTooltip='Monitoring of a task requires attention. The level of attention and the load it causes depends on the necessary reaction time. The shorter the reaction time, the greater the load on the worker. In a production process, the necessary reaction time is mostly determined by the cycle time. An assembly process with a short cycle time requires a short reaction time. With increasingly shorter reaction time, the cognitive LoA should increase. From this, the criterion “Reaction Time” can be derived. '
      > <strong>Reaction time</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.rmN"
        (click)="
          criteriaMatrixBody.rmN = 1;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        None
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmS"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 1;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        Short
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmM"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 1;
          criteriaMatrixBody.rmL = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.rmL"
        (click)="
          criteriaMatrixBody.rmN = 0;
          criteriaMatrixBody.rmS = 0;
          criteriaMatrixBody.rmM = 0;
          criteriaMatrixBody.rmL = 1;
          updateMatrix();
        "
      >
        Long
      </td>
    </tr>
    <tr>
      <td
        matTooltip='Humans are mainly credited with the ability to adapt flexibly to new circumstances, to identify new tasks and to test new solutions. In an unknown situation, a machine either react at all or does not react adequately. If there are deviations from the planned course during assembly humans recognise them and cope with the situation with their knowledge and, if necessary, through improvisation. The more often unforeseen situation occurs, the lower the cognitive LoA should be chosen.'
      > <strong>Unforeseen situations</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.usN"
        (click)="
          criteriaMatrixBody.usN = 1;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Never
      </td>
      <td
        [class.on]="criteriaMatrixBody.usOc"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 1;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Occasionally
      </td>
      <td
        [class.on]="criteriaMatrixBody.usR"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 1;
          criteriaMatrixBody.usOf = 0;
          updateMatrix();
        "
      >
        Rarely
      </td>
      <td
        [class.on]="criteriaMatrixBody.usOf"
        (click)="
          criteriaMatrixBody.usN = 0;
          criteriaMatrixBody.usOc = 0;
          criteriaMatrixBody.usR = 0;
          criteriaMatrixBody.usOf = 1;
          updateMatrix();
        "
      >
        Often
      </td>
    </tr>
    <tr>
      <td
        matTooltip='The load due to monitoring functions also depends on the requirements a disturbance demands from the worker. The more information needs to be processed and evaluated to remedy the disturbance, the greater the load on the worker. With the increasing complexity of the technical systems that need to be monitored, the cognitive LoA should increase.'
      > <strong>System complexity</strong> </td>
      <td
        [class.on]="criteriaMatrixBody.scH"
        (click)="
          criteriaMatrixBody.scH = 1;
          criteriaMatrixBody.scM = 0;
          criteriaMatrixBody.scL = 0;
          criteriaMatrixBody.scN = 0;
          updateMatrix();
        "
      >
        High
      </td>
      <td
        [class.on]="criteriaMatrixBody.scM"
        (click)="
          criteriaMatrixBody.scH = 0;
          criteriaMatrixBody.scM = 1;
          criteriaMatrixBody.scL = 0;
          criteriaMatrixBody.scN = 0;
          updateMatrix();
        "
      >
        Medium
      </td>
      <td
        [class.on]="criteriaMatrixBody.scL"
        (click)="
          criteriaMatrixBody.scH = 0;
          criteriaMatrixBody.scM = 0;
          criteriaMatrixBody.scL = 1;
          criteriaMatrixBody.scN = 0;
          updateMatrix();
        "
      >
        Low
      </td>
      <td
        [class.on]="criteriaMatrixBody.scN"
        (click)="
          criteriaMatrixBody.scH = 0;
          criteriaMatrixBody.scM = 0;
          criteriaMatrixBody.scL = 0;
          criteriaMatrixBody.scN = 1;
          updateMatrix();
        "
      >
        None
      </td>
    </tr>
    <tr>
      <td></td>
      <td colspan="4"> <strong><-------------------------------------------------------------------------------- Direction of increasing LoA </strong></td>
    </tr>
</tbody>
</table><br>

<div class="mx-auto" style="width: 100px;">
  <button type="button" class="btn btn-secondary" data-toggle="modal" data-target="#resetModal">Clear</button>
</div>

<!-- resetModal -->
<div class="modal fade" id="resetModal" tabindex="-1" role="dialog"  aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="resetModalLabel">
            <p class="text-warning" >Attention</p>
          </h5>
        </div>
        <div class="modal-body">
          Matrix choices will be restet. Continue?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="resetMatrix()">Yes</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal"  >No</button>
        </div>
      </div>
    </div>
  </div><br>

  <!-- loa info box -->
  <form >
  <fieldset>
    <legend style="width: auto;">Cognitive LoA information</legend>
    <table class="table table-borderless table-responsive">
      <thead>
        <th class="align-middle">Possibility of<br>manual execution</th>
        <th class="align-middle">Current cognitive LoA</th>
        <th class="align-middle" colspan="2">Optimal cognitive LoA range</th>
      </thead>
      <tr>
        <td>
          <label class="switch">
            <input type="checkbox" name="possibility" [(ngModel)]="loaInfoRequest.possibility">
            <span class="slider round"></span>
          </label>
        </td>
        <td>
          <select name="cognitive-loa" [(ngModel)]="loaInfoRequest.fkTbAceCogLoa" class="selectLoa">
            <option *ngFor="let loa of cognitiveLoaArray" value="{{loa.pkTbId}}">LoA {{loa.pkTbId}} - {{ loa.loa }}</option>
          </select>
        </td>
        <td>
          <input type="number" name="minBestLoa" #minLoa max="7" min="1" [(ngModel)]="loaInfoRequest.bestRangeMin"
            oninput="this.value=(parseInt(this.value)||0)" onkeydown="return false" required>
        </td>
        <td>
          <input type="number" name="maxBestLoa" #maxLoa max="7" min="1" [(ngModel)]="loaInfoRequest.bestRangeMax"
            oninput="this.value=(parseInt(this.value)||0)" onkeydown="return false" required>
        </td>
      </tr>
    </table>
  </fieldset>

  <!-- saveModal -->
 <div class="modal fade" id="saveModal" tabindex="-1" role="dialog"  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="saveModalLabel">
          <p class="text-success" *ngIf="opSuc">Successful</p>
          <p class="text-danger" *ngIf="!opSuc">Error</p>
        </h5>
      </div>
      <div class="modal-body">
        <span *ngIf="opSuc">Operation performed.</span>
        <span *ngIf="!opSuc">Operation failed.</span>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal" (click)="away()">OK</button>
      </div>
    </div>
  </div>
</div>

  <div class="btn-group" style="justify-content: center; width: 100%;">
    <a class="btn btn-outline-primary" routerLink="/hta-analysis">Previous</a>
    <button class="btn btn-secondary" (click)="loaInfoRequest.possibility=false">Cancel</button>
    <button class="btn btn-primary" (click)="saveLoaInfo(minLoa.value, maxLoa.value)"  data-toggle="modal" data-target="#saveModal" >Save</button>
  </div>
</form> 
</div>

